{
  "name": "bigquery-previewer",
  "displayName": "BigQuery Previewer",
  "description": "A VS Code extension to analyze BigQuery SQL files via dry runs.",
  "version": "0.0.1",
  "engines": {
    "vscode": "^1.99.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [],
  "main": "./dist/extension.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/ashababnoor/bigquery-previewer.git"
  },
  "contributes": {
    "commands": [
      {
        "command": "bigquery-previewer.analyzeQuery",
        "title": "BigQuery Previewer: Analyze Query"
      }
    ],
    "colors": [
      {
        "id": "bigqueryPreviewer.successBackground",
        "description": "Background color for successful query analysis status",
        "defaults": {
          "dark": "#2aa152",
          "light": "#2aa152",
          "highContrast": "#2aa152",
          "highContrastLight": "#2aa152"
        }
      }
    ],
    "configuration": {
      "type": "object",
      "title": "BigQuery Previewer Configuration",
      "properties": {
        "bigqueryPreviewer.authMode": {
          "type": "string",
          "enum": [
            "adc",
            "service_account"
          ],
          "default": "adc",
          "description": "Authentication mode for BigQuery. Use `adc` for Application Default Credentials (requires gcloud auth) or `service_account` to use a service account key file."
        },
        "bigqueryPreviewer.serviceAccountKeyPath": {
          "type": "string",
          "default": "",
          "description": "Path to the service account key file (JSON). Only used when authMode is set to `service_account`."
        },
        "bigqueryPreviewer.showScanWarnings": {
          "type": "boolean",
          "default": true,
          "description": "Show warnings when the scan size exceeds the threshold specified by `scanWarningThresholdMB`. When enabled, scan sizes above the threshold will be highlighted in the status bar (if enabled) or shown as warning popups."
        },
        "bigqueryPreviewer.scanWarningThresholdMB": {
          "type": "number",
          "default": 100,
          "description": "Threshold in megabytes that triggers a warning when a query's scan size exceeds this value. Only applied when `showScanWarnings` is enabled."
        },
        "bigqueryPreviewer.autoRunOnSave": {
          "type": "boolean",
          "default": true,
          "description": "Automatically analyze queries when a SQL file is saved. When disabled, you must use the command palette or keyboard shortcut to analyze queries."
        },
        "bigqueryPreviewer.autoRunOnChange": {
          "type": "boolean",
          "default": true,
          "description": "Automatically analyze queries when an SQL file content changes, after the debounce delay specified by `changeDebounceDelayMs`. This avoids excessive API calls while typing."
        },
        "bigqueryPreviewer.autoRunOnOpen": {
          "type": "boolean",
          "default": true,
          "description": "Automatically analyze queries when a SQL file is first opened in the editor."
        },
        "bigqueryPreviewer.enableStatusBar": {
          "type": "boolean",
          "default": true,
          "description": "Display the analysis results in the status bar. When both `enableStatusBar` and `enableNotifications` are enabled, the status bar will be given priority. When both are disabled, no analysis results will be shown."
        },
        "bigqueryPreviewer.enableNotifications": {
          "type": "boolean",
          "default": false,
          "description": "Show popup notifications for analysis results. When both `enableStatusBar` and `enableNotifications` are enabled, the status bar will be given priority. When both are disabled, no analysis results will be shown."
        },
        "bigqueryPreviewer.changeDebounceDelayMs": {
          "type": "number",
          "default": 1500,
          "minimum": 100,
          "maximum": 10000,
          "description": "Delay in milliseconds to wait after typing stops before analyzing the query (when `autoRunOnChange` is enabled). Higher values reduce API calls but delay feedback."
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run package",
    "compile": "npm run check-types && npm run lint && node esbuild.js",
    "watch": "npm-run-all -p watch:*",
    "watch:esbuild": "node esbuild.js --watch",
    "watch:tsc": "tsc --noEmit --watch --project tsconfig.json",
    "package": "npm run check-types && npm run lint && node esbuild.js --production",
    "compile-tests": "tsc -p . --outDir out",
    "watch-tests": "tsc -p . -w --outDir out",
    "pretest": "npm run compile-tests && npm run compile && npm run lint",
    "check-types": "tsc --noEmit",
    "lint": "eslint src",
    "test": "vscode-test"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.10",
    "@types/node": "20.x",
    "@types/sinon": "^17.0.4",
    "@types/vscode": "^1.99.0",
    "@typescript-eslint/eslint-plugin": "^8.28.0",
    "@typescript-eslint/parser": "^8.28.0",
    "@vscode/test-cli": "^0.0.10",
    "@vscode/test-electron": "^2.4.1",
    "esbuild": "^0.25.1",
    "eslint": "^9.23.0",
    "npm-run-all": "^4.1.5",
    "sinon": "^20.0.0",
    "typescript": "^5.8.2"
  },
  "dependencies": {
    "@google-cloud/bigquery": "^6.0.0"
  }
}
